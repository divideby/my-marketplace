---
description: Извлечь оглавление книги
---

# Извлечь оглавление

Получи оглавление книги и добавь его в заметку как чеклист прогресса.

## Шаг 1: Выбрать книгу

Спроси пользователя, для какой книги нужно оглавление. Найди её ISBN в заметке книги.

## Шаг 2: Попробовать автоматически

Запусти скрипт:

```bash
# ЛитРес по ID (лучший источник для русских книг!)
# ID находится в URL: litres.ru/book/author/title-48514275/ → ID = 48514275
python3 plugins/books/scripts/fetch-toc.py --litres-id "48514275"

# По ISBN (Лабиринт + Open Library)
python3 plugins/books/scripts/fetch-toc.py --isbn "978-5-00195-204-6"

# По прямому URL с Лабиринта
python3 plugins/books/scripts/fetch-toc.py --url "https://www.labirint.ru/books/580693/"
```

Скрипт ищет в:
1. **ЛитРес** — лучший источник, почти все книги имеют TOC
2. Лабиринт — не все книги имеют оглавление
3. Open Library — для англоязычных книг
4. Google Books — ссылка на превью

## Шаг 3: Ручной ввод (fallback)

Если автоматически не получилось, попроси пользователя:

> Оглавление не удалось извлечь автоматически. Можешь скопировать его из книги или с сайта издательства?

Приведи пример формата:
```
Введение
Глава 1. Название
Глава 2. Название
...
Заключение
```

## Шаг 4: Преобразовать в чеклист

Преобразуй оглавление в markdown чеклист:

```markdown
## Прогресс

- [ ] Введение
- [ ] Глава 1. Название
- [ ] Глава 2. Название
- [ ] ...
- [ ] Заключение
```

## Шаг 5: Обновить заметку книги

Замени секцию "Прогресс" в заметке книги на новый чеклист.

## Советы

- Для технических книг полезно добавить подразделы
- Для художественных — достаточно глав
- Можно добавить примерное количество страниц: `- [ ] Глава 1 (стр. 1-30)`
