---
description: Показать прогресс чтения
---

# Прогресс чтения

Покажи обзор текущего прогресса по книгам.

## Шаг 1: Найти активные книги

Найди все файлы в `Base/` со статусом `reading`:

```bash
grep -l "status: reading" Base/*.md
```

## Шаг 2: Для каждой книги рассчитать прогресс

Используй скрипт `calculate-progress.py` для точного расчёта:

```bash
python3 "${CLAUDE_PLUGIN_ROOT}/skills/extracting-book-toc/scripts/calculate-progress.py" "Base/Название книги.md" --format json
```

Скрипт поддерживает три метода расчёта (в порядке приоритета):
1. **По страницам** `[N-M]` — если указаны диапазоны страниц
2. **По весам** `[w:N]` — если есть веса глав из ЛитРес
3. **По главам** — fallback, простой подсчёт `[x]` vs `[ ]`

## Шаг 3: Собрать дополнительную статистику

Для каждой книги извлеки:

1. **Название и автор** — из frontmatter
2. **Прогресс** — из вывода `calculate-progress.py`
3. **Количество сессий** — найди файлы `Base/Сессия-Название книги-*.md`
4. **Дата начала** — из frontmatter `created`
5. **Последняя сессия** — самый свежий файл сессии

## Шаг 4: Показать отчёт

Выведи в формате:

```markdown
## Текущие книги

### "Название книги" — Автор
- Прогресс: 36.7% (по объёму, 3/7 глав)
- Сессий: 3
- Начата: 2026-01-10
- Последняя сессия: 2026-01-12

### "Другая книга" — Автор
- Прогресс: 25.0% (по главам, 2/8)
- Сессий: 1
- Начата: 2026-01-05
- Последняя сессия: 2026-01-05
```

**Примечание:** Если прогресс считается по весам или страницам, показывай это в скобках. Веса отражают реальный объём глав, а не просто их количество.

## Шаг 5: Рекомендации

На основе данных предложи:

- Если книга давно не читалась (>7 дней) — напомни о ней
- Если прогресс >80% — предложи дочитать и запустить `/books:finish`
- Если много книг параллельно (>3) — предложи сфокусироваться на одной

## Дополнительно

Если пользователь спросит про конкретную книгу — покажи детальный отчёт:
- Список всех сессий с датами
- Ключевые идеи, собранные к этому моменту
- Открытые вопросы
